---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";

const certs = [
    {
      title: "Back End Development and Apis",
      image: "/certs/Certificacion - Back-end development and apis.webp",
      url: "https://www.freecodecamp.org/certification/Lmrs30/back-end-development-and-apis",
    },
    {
      title: "Universidad Angular - Cero a Experto - Angular 18",
      image: "/certs/Certificado curso Angular.webp",
      url: "https://www.udemy.com/certificate/UC-87cf95a3-2f67-4e1f-b60e-bd7051f64eac/",
    },
    {
      title: "Introducción al desarrollo web: HTML y CSS",
      image: "/certs/Introducción al desarrollo web.webp",
      url: "https://skillshop.exceedlms.com/student/award/CRJ2K7SZ4xhHhx7jcZpiAYRD",
    },
    {
      title: "Python Essentials 1",
      image: "/certs/Python Essentials 1 - Certificado.webp",
      url: "https://www.credly.com/badges/69e74d0e-6df5-45a9-9adb-1eae71fdb365",
    },
    {
      title: "Python Essentials 2",
      image: "/certs/Python Essentials 2 - Certificado.webp",
      url: "https://www.credly.com/badges/e922a7a8-b5a8-4200-87f7-cc7f7739ba9a",
    },
    {
      title: "Hacksplaining Security Training",
      image: "/certs/Hacksplaining Completion Certificate.webp",
      url: "",
    },
  ];
---

<Layout title="Certificados" description="Certificados de Luis Romero" showFooter={false}>
<main class="  py-16 scroll-m-20 w-full mx-auto container flex justify-center items-center flex-col relative">
    <a href="/#certificados" class="absolute top-16  left-3 text-lg hover:text-blue-500 transition">{"<"} Volver</a>
    <h1 class="sm:text-5xl text-3xl sm:mt-0 mt-8">Certificados</h1>
    <ul class="h-full flex flex-wrap justify-center sm:gap-20 gap-y-20 gap-x-56 m-auto mt-10">
        {
            certs.map((cert)=>(
                <li class="sm:min-w-[300px] sm:max-w-[300px] min-w-[200px] max-w-[200px]">
                    <div class="sm:w-[100%] w-[200px] h-[200px] relative cursor-pointer " onclick="extendCert(this)">
                    
                        <Image
                        class="cuadro w-full sm:h-full h-full absolute z-10 select-none"
                        src="/certs/Cuadro.webp" 
                        width={800}
                        height={1000}
                        alt="Marco decorativo del certificado"
                        draggable="false"
                        loading="eager"
                        />
                        <Image
                        class="cert w-[85%] h-[159px] relative top-[20px] sm:left-[23px] left-[16px] select-none"
                        src={cert.image} 
                        width={800}
                        height={600}
                        alt={`Certificado de ${cert.title}`}
                          draggable="false"
                          loading="eager"
                        />
                    </div>
                    <h3 class="text-center mx-4 my-2 text-balance sm:text-lg text-base">{cert.title}</h3>
                    {cert.url && (
                        <div class="w-full flex justify-center">
                            <a
                            href={cert.url}
                            class="text-white transition-all bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" target=""
                            >
                            Comprobar validez
                            </a>
                        </div>

                    )
                    }
                    
                </li>     
            ))
        }
    </ul>
    <div id="overlay">
        <div class="relative sm:w-[70%] sm:max-w-[70%] sm:h-[80%] sm:max-h-[80%] w-[90%] max-w-[90%]  h-[30%] max-h-[30%]">
         
            <Image 
                src="/certs/Cuadro.webp" 
                class="cuadro-ext absolute z-10 select-none inset-0"
                width={1200}
                height={1500}
                alt="Marco decorativo del certificado ampliado"
                loading="lazy"	
            />
            <img src="" class="cert-ext w-[85%] h-[79.5%] relative top-[10%] left-[8%] select-none" alt="Certificado ampliado" loading="lazy">
        
        </div>
    </div>
</main>
</Layout>
<style>
    #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        /* display: none;*/
        display: flex;
        opacity: 0;
        visibility: hidden;
        justify-content: center;
        align-items: center;
        z-index: 999;
        transition: all 0.3s ease;
    }
    
    #overlay div {
       
        display: block;
        margin: 0 auto;
    }

    .cuadro-ext{
        max-width: 100%;
        max-height: 100%;
        width: 100%;
        height: 100%;
    }
    </style>

<script is:inline>
    function extendCert(div) {
      let overlay = document.getElementById('overlay');
      let overlayImg = overlay.querySelector('.cert-ext');
      overlayImg.src = div.querySelector(".cert").src;
      overlay.style.visibility = "visible";
      overlay.style.opacity = 1;
      overlay.onclick = () => {
        overlay.style.visibility = "hidden";
        overlay.style.opacity = 0;
      }
    }
</script>